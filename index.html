<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tecla Premium - Monitor de Crises</title>
<style>
  body { margin:0; font-family: Arial, sans-serif; background: #f4f7fa; }
  .sidebar { position: fixed; left:0; top:0; width:220px; height:100%; background:#34495e; color:white; padding-top:20px;}
  .sidebar h2 { text-align:center; margin-bottom:30px; }
  .sidebar a { display:block; padding:15px; color:white; text-decoration:none; margin:5px 0; border-radius:4px;}
  .sidebar a:hover { background:#2c3e50; }
  .main { margin-left:240px; padding:20px; }
  .header { display:flex; justify-content: space-between; align-items:center; margin-bottom:20px; }
  .header h1 { margin:0; font-size:24px; }
  .alert { padding:10px; background:#e74c3c; color:white; margin-bottom:10px; border-radius:5px; }
  .card { background:white; padding:20px; border-radius:8px; margin-bottom:20px; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
  table { width:100%; border-collapse: collapse; }
  th, td { padding:10px; border-bottom:1px solid #ddd; text-align:left; }
  input[type="text"] { width: 100%; padding:10px; margin-top:10px; font-size:16px; border:1px solid #ccc; border-radius:6px; }
  button { padding:10px 20px; margin-top:10px; border:none; background:#4b9cd3; color:white; border-radius:6px; cursor:pointer; font-size:16px; }
</style>
</head>
<body>

<div class="sidebar">
  <h2>Tecla Premium</h2>
  <a href="#dashboard">Dashboard</a>
  <a href="#logs">Logs</a>
  <a href="#config">Configura√ß√µes</a>
</div>

<div class="main">
  <div class="header">
    <h1>Monitor de Crises</h1>
    <div>üë§ Terapeuta</div>
  </div>

  <!-- Input do usu√°rio -->
  <div class="card">
    <h3>Entrada de Frase</h3>
    <input type="text" id="entrada" placeholder="Digite a frase ou desejo da crian√ßa">
    <button onclick="processarEntrada()">Enviar</button>
  </div>

  <!-- Alertas -->
  <div id="alertas"></div>

  <!-- Logs -->
  <div class="card" id="logs">
    <h3>Logs Detalhados</h3>
    <table>
      <thead>
        <tr><th>Hor√°rio</th><th>Frase</th><th>Categoria</th><th>Alerta</th></tr>
      </thead>
      <tbody id="tabelaLogs"></tbody>
    </table>
  </div>
</div>

<script>
// Dados simulados
let dadosLogs = [];
const alertasDiv = document.getElementById('alertas');

// Fun√ß√£o simples de predi√ß√£o de crise
function predicaoCrise(frase) {
  const palavrasRisco = ['triste', 'dor', 'irritado', 'assustado', 'medo'];
  for(let p of palavrasRisco){
    if(frase.toLowerCase().includes(p)) return true;
  }
  return false;
}

// Fun√ß√£o de categoriza√ß√£o simples
function categorizar(frase) {
  const palavrasBrincar = ['brincar','jogar','divertir'];
  const palavrasComer = ['comer','lanche','alimentar'];
  const palavrasBanheiro = ['banheiro','ir ao banheiro'];
  for(let p of palavrasBrincar) if(frase.toLowerCase().includes(p)) return 'Brincar';
  for(let p of palavrasComer) if(frase.toLowerCase().includes(p)) return 'Necessidade';
  for(let p of palavrasBanheiro) if(frase.toLowerCase().includes(p)) return 'Necessidade';
  return 'Emo√ß√£o';
}

// Processa a entrada do usu√°rio
function processarEntrada() {
  const entrada = document.getElementById('entrada').value;
  if(!entrada) return;

  const hora = new Date().toLocaleTimeString();
  const categoria = categorizar(entrada);
  const alerta = predicaoCrise(entrada);

  // Salvar no log
  dadosLogs.push({hora, frase:entrada, categoria, alerta});
  atualizarLogs();

  // Exibir alerta se necess√°rio
  if(alerta){
    const div = document.createElement('div');
    div.className = 'alert';
    div.innerText = `‚ö†Ô∏è Alerta de risco detectado: "${entrada}" √†s ${hora}`;
    alertasDiv.appendChild(div);
    falar(`Alerta! Poss√≠vel crise detectada: ${entrada}`);
  }

  // Limpar input
  document.getElementById('entrada').value='';
}

// Atualiza tabela de logs
function atualizarLogs() {
  const tabela = document.getElementById('tabelaLogs');
  tabela.innerHTML = '';
  dadosLogs.forEach(log=>{
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${log.hora}</td><td>${log.frase}</td><td>${log.categoria}</td><td>${log.alerta ? '‚ö†Ô∏è' : ''}</td>`;
    tabela.appendChild(tr);
  });
}

// Fala em voz alta
function falar(texto) {
  const synth = window.speechSynthesis;
  const utterThis = new SpeechSynthesisUtterance(texto);
  utterThis.lang = 'pt-PT';
  synth.speak(utterThis);
}
</script>

</body>
</html>
